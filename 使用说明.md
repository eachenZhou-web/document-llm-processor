# 大模型文档处理系统 - 使用说明

## 系统简介

这是一个功能强大的 Web 应用程序，可以帮助您：

1. **处理各种文档**：上传 PDF、Word、图片等文件，自动提取文字
2. **抓取网页内容**：输入网址，自动提取正文
3. **AI 智能分析**：使用 GPT、Claude 等大模型对内容进行分析

## 三步快速开始

### 第一步：安装环境

#### Windows 系统

```bash
# 1. 进入项目目录
cd document-llm-processor

# 2. 安装 Python 依赖
pip install -r requirements.txt

# 3. 下载安装 Tesseract OCR
# 访问：https://github.com/UB-Mannheim/tesseract/wiki
# 下载并安装（用于图片文字识别）
```

#### macOS 系统

```bash
# 1. 安装 Tesseract
brew install tesseract tesseract-lang

# 2. 进入项目目录
cd document-llm-processor

# 3. 安装 Python 依赖
pip3 install -r requirements.txt
```

### 第二步：启动服务

#### Windows 用户
双击运行 `start.bat` 或在命令行执行：
```bash
python app.py
```

#### macOS/Linux 用户
```bash
chmod +x start.sh
./start.sh
```
或
```bash
python3 app.py
```

### 第三步：使用系统

1. 打开浏览器访问：`http://localhost:5000`
2. 开始使用！

## 功能使用指南

### 📤 功能一：上传文档

**支持的格式：**
- 文档：PDF、Word (.docx, .doc)、文本 (.txt)
- 图片：PNG、JPG、JPEG、GIF、BMP
- 网页：任何网址

**使用方法：**

1. **上传文件**
   - 点击上传区域选择文件
   - 或直接拖拽文件到上传区域
   - 可以一次上传多个文件

2. **输入文本**
   - 直接在文本框中粘贴或输入文字

3. **添加网址**
   - 每行输入一个网址
   - 可以同时输入多个网址

4. **点击"开始处理文档"**
   - 系统会自动提取所有内容
   - 图片会自动识别文字
   - 网页会自动提取正文

### 🤖 功能二：AI 分析

**使用方法：**

1. **选择 AI 模型**
   - OpenAI GPT：需要 OpenAI API Key
   - Anthropic Claude：需要 Anthropic API Key
   - 自定义 API：需要 API 地址和 Key

2. **输入 API Key**
   - 在"API Key"框中输入您的密钥
   - 不用担心，密钥不会被保存

3. **编写提示词**
   - 告诉 AI 您想如何分析这些文档
   - 例如："请总结这些文档的核心内容"

4. **点击"开始 AI 分析"**
   - 等待 AI 分析完成
   - 查看分析结果

## 实用示例

### 示例 1：总结多个 PDF

**场景**：您有 3 篇论文 PDF，想要了解主要内容

**操作步骤**：
1. 上传 3 个 PDF 文件
2. 点击"开始处理文档"
3. 选择 GPT-4 模型
4. 输入提示词：
   ```
   请总结这三篇论文的：
   1. 研究主题
   2. 核心观点
   3. 研究方法
   4. 主要结论
   ```
5. 点击"开始 AI 分析"

### 示例 2：提取图片中的文字

**场景**：您有几张包含文字的照片，想要提取文字

**操作步骤**：
1. 上传图片文件
2. 点击"开始处理文档"（自动 OCR 识别）
3. 查看提取的文字
4. 选择模型并输入提示词：
   ```
   请整理图片中的所有文字，并按类别分组。
   ```
5. 点击"开始 AI 分析"

### 示例 3：分析网页文章

**场景**：您收藏了多篇网络文章，想要提取要点

**操作步骤**：
1. 在"网页链接"区域输入网址（每行一个）：
   ```
   https://example.com/article1
   https://example.com/article2
   ```
2. 点击"开始处理文档"
3. 选择模型并输入提示词：
   ```
   请提取每篇文章的核心观点，并总结共同主题。
   ```
4. 点击"开始 AI 分析"

## 常用提示词

### 📝 总结类

```
请用 200 字总结这些文档的核心内容。
```

```
请提取文档中的关键信息，包括：
- 主要观点
- 重要数据
- 行动建议
```

### 🔍 分析类

```
请分析这些文档的：
1. 共同主题
2. 不同观点
3. 潜在问题
4. 改进建议
```

```
从专业角度分析这些文档，并给出评价。
```

### 📊 提取类

```
请提取文档中的所有：
- 人名
- 地点
- 日期
- 重要数据
以表格形式展示。
```

```
请列出文档中提到的所有要点，用项目符号列表展示。
```

## 常见问题

### ❓ 图片识别不准确怎么办？

**解决方法**：
1. 确保图片清晰
2. 提高图片分辨率
3. 检查 Tesseract 是否正确安装

### ❓ 网页抓取失败怎么办？

**解决方法**：
1. 检查网址是否正确
2. 某些网站可能有防爬虫机制
3. 可以尝试配置 Firecrawl API Key（在 .env 文件中）

### ❓ AI 分析报错怎么办？

**可能原因**：
- API Key 错误或过期
- 账户余额不足
- 网络连接问题
- 文本内容过长

**解决方法**：
- 检查 API Key 是否正确
- 确认账户有余额
- 检查网络连接
- 减少文档数量

### ❓ 处理速度慢怎么办？

**优化建议**：
- 减少单次上传的文件数量
- 选择处理速度快的模型（如 GPT-3.5）
- 图片文件不要过大
- 网页链接不要过多

## 技术支持

### 系统要求
- Python 3.8 或更高版本
- 稳定的网络连接
- 现代浏览器（Chrome、Firefox、Edge）

### 获取 API Key

**OpenAI**：https://platform.openai.com/api-keys
**Anthropic**：https://console.anthropic.com/

### 联系方式

如遇到问题，请检查：
1. README.md - 详细说明文档
2. QUICKSTART.md - 快速开始指南
3. ARCHITECTURE.md - 系统架构说明

## 安全提示

✅ API Key 仅在浏览器中使用，不会保存到服务器
✅ 上传的文件处理后立即删除
✅ 建议在本地或可信环境运行
✅ 不要在公共电脑上使用 API Key

---

**祝您使用愉快！**
